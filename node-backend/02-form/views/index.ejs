<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>
  <body>
    <!---------- get 요청 ----------->
    <h1> 로그인 </h1>
    <!-- form 전송은 클라이언트가 서버로 데이터를 보내는 방법 중 하나 -->
    <!-- action : 요청을 보낼 주소(제 서버에 보낸다는 가정하에 도메인을 뗀 나머지 주소) -->
    <!-- ex) localhost:8000/get/test라는 곳으로 보내고 싶다면, action="/get" -->
    <!-- method : 어떤 방식의 요청을 사용할지 (get 또는 post) -->
    <!-- form 태그 안에 div 태그 등을 사용해서 ui를 더 예쁘게 만들 수 있음 -->
    <form action="/get" method="get" target="_blank" name="login">
      <fieldset>
        <legend> 로그인 정보 </legend>
        <input type="text" name="id" />
        <input type="password" name="pw" />
        <!-- 텍스트를 label로 감싸고 for을 id 값과 일치시키면 텍스트를 클릭했을 때도 해당 요소가 선택되도록 만들 수 있다. -->
        <input type="radio" name="gender" value="남자" id="male" /> <label for="male"> 남 </label>
        <input type="radio" name="gender" value="여자" /> 여
        <!-- button의 type이 submit인 경우, 버튼을 감싸고 있는 태그의 정보에 맞게 폼을 제출함 -->
        <button type="submit">제출</button>
      </fieldset>
    </form>

    <h1>회원가입 get 요청</h1>
    <form action="/join" method="get">
      <input type="text" name="id" />
      <input type="password" name="pw" />
      <input type="text" name="name" />
      <input type="text" name="email" />
      <button type="submit">제출</button>
    </form>

    <h1>회원가입 post 요청</h1>
    <form action="/post/ver2" method="post">
      <input type="text" name="id" minlength="5" pattern="^([a-zA-Z0-9가-힣]){3,12}$" required placeholder="id" title="소문자, 대문자, 한글, 숫자로 조합된 3~12자리 아이디" />
      <input type="password" name="pw" placeholder="password" oninput="validCheckPw(this)" />
      <div id="errorPw"></div>
      <input type="text" name="name" placeholder="name" required />
      <input type="text" name="email" placeholder="email" />
      <input type="number" min="5" max="10" placeholder="숫자">
      <button type="submit">제출</button>
    </form>

    <script>
      // form 태그를 선택하는 방법(form 태그에 name을 작성한 후 사용)
      // console에 찍어 보는 또다른 방법(console.dir), 속성 확인하고, 인덱스로 원하는 요소만 선택해서 볼 수도 있음
      console.dir(document.forms["login"][0])

      function validCheckPw(el) {
        const regexPw = /^([a-z0-9]){5,12}$/ // 정규 표현식을 변수에 담고 싶을 땐 / 안에
        const value = el.value
        const error = document.getElementById("errorPw")
        // regexPw.test("검사하고 싶은 값") => true 또는 false return
        if (regexPw.test(value)) {
          console.log("정규식 일치")
          error.innerHTML = ""
        } else {
          error.innerHTML = "소문자, 대문자, 한글, 숫자로 조합된 3~12자리 아이디"
          console.log("정규식 불일치")
        }
      }
    </script>
  </body>
</html>